{"ast":null,"code":"var _jsxFileName = \"/Users/jiangjiang/Desktop/t-project/dona-clone-React/src/contexts/CategoryContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CategoryStateContext = /*#__PURE__*/createContext();\nexport const CategoryDispatchContext = /*#__PURE__*/createContext();\n\nconst categoryReducer = (state, action) => {\n  switch (action.type) {\n    case \"INIT_STORED\":\n      return action.value;\n\n    case \"CREATE\":\n      return state.concat(action.category);\n\n    case \"REMOVE\":\n      return state.filter(item => item.id !== action.id);\n\n    default:\n      return state;\n  }\n};\n\nexport const useCategoryDispatch = () => {\n  _s();\n\n  return useContext(CategoryDispatchContext);\n};\n\n_s(useCategoryDispatch, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const useCategoryState = () => {\n  _s2();\n\n  return useContext(CategoryStateContext);\n};\n\n_s2(useCategoryState, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst init = [{\n  id: 0,\n  name: \"Home\",\n  slug: '/'\n}];\nexport const CategoryProvider = _ref => {\n  _s3();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(categoryReducer, init);\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem('categoryState'))) {\n      dispatch({\n        type: \"INIT_STORED\",\n        value: JSON.parse(localStorage.getItem('categoryState'))\n      });\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"categoryState\", JSON.stringify(state));\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(CategoryStateContext.Provider, {\n    value: state,\n    children: /*#__PURE__*/_jsxDEV(CategoryDispatchContext.Provider, {\n      value: dispatch,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 12\n  }, this);\n};\n\n_s3(CategoryProvider, \"bgv4uzl9ZKx6JFlvVJwghPFvYjI=\");\n\n_c = CategoryProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","CategoryStateContext","CategoryDispatchContext","categoryReducer","state","action","type","value","concat","category","filter","item","id","useCategoryDispatch","useCategoryState","init","name","slug","CategoryProvider","children","dispatch","JSON","parse","localStorage","getItem","setItem","stringify"],"sources":["/Users/jiangjiang/Desktop/t-project/dona-clone-React/src/contexts/CategoryContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\nexport const CategoryStateContext = createContext();\nexport const CategoryDispatchContext = createContext();\n\nconst categoryReducer = (state, action) => {\n    switch (action.type) {\n        case \"INIT_STORED\":\n            return action.value;\n        case \"CREATE\":\n            return state.concat(action.category);\n        case \"REMOVE\":\n            return state.filter(item => item.id !== action.id)\n        default:\n            return state;\n    }\n}\n\nexport const useCategoryDispatch = () => {\n    return useContext(CategoryDispatchContext);\n}\nexport const useCategoryState = () => {\n    return useContext(CategoryStateContext);\n}\n\nconst init = [\n    {\n        id: 0,\n        name: \"Home\",\n        slug: '/'\n    },\n];\n\nexport const CategoryProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(categoryReducer, init);\n\n    useEffect(() => {\n        if (JSON.parse(localStorage.getItem('categoryState'))) {\n            dispatch({\n                type: \"INIT_STORED\",\n                value: JSON.parse(localStorage.getItem('categoryState'))\n            });\n        }\n    }, [])\n\n    useEffect(() => {\n        localStorage.setItem(\"categoryState\", JSON.stringify(state))\n    }, [state])\n\n    return <CategoryStateContext.Provider value={state}>\n        <CategoryDispatchContext.Provider value={dispatch}>\n            {children}\n        </CategoryDispatchContext.Provider>\n    </CategoryStateContext.Provider>\n}"],"mappings":";;;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,UAA/C,QAAiE,OAAjE;;AACA,OAAO,MAAMC,oBAAoB,gBAAGJ,aAAa,EAA1C;AACP,OAAO,MAAMK,uBAAuB,gBAAGL,aAAa,EAA7C;;AAEP,MAAMM,eAAe,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACvC,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,aAAL;MACI,OAAOD,MAAM,CAACE,KAAd;;IACJ,KAAK,QAAL;MACI,OAAOH,KAAK,CAACI,MAAN,CAAaH,MAAM,CAACI,QAApB,CAAP;;IACJ,KAAK,QAAL;MACI,OAAOL,KAAK,CAACM,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYP,MAAM,CAACO,EAAxC,CAAP;;IACJ;MACI,OAAOR,KAAP;EARR;AAUH,CAXD;;AAaA,OAAO,MAAMS,mBAAmB,GAAG,MAAM;EAAA;;EACrC,OAAOf,UAAU,CAACI,uBAAD,CAAjB;AACH,CAFM;;GAAMW,mB;;AAGb,OAAO,MAAMC,gBAAgB,GAAG,MAAM;EAAA;;EAClC,OAAOhB,UAAU,CAACG,oBAAD,CAAjB;AACH,CAFM;;IAAMa,gB;;AAIb,MAAMC,IAAI,GAAG,CACT;EACIH,EAAE,EAAE,CADR;EAEII,IAAI,EAAE,MAFV;EAGIC,IAAI,EAAE;AAHV,CADS,CAAb;AAQA,OAAO,MAAMC,gBAAgB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC9C,MAAM,CAACf,KAAD,EAAQgB,QAAR,IAAoBpB,UAAU,CAACG,eAAD,EAAkBY,IAAlB,CAApC;EAEAhB,SAAS,CAAC,MAAM;IACZ,IAAIsB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAJ,EAAuD;MACnDJ,QAAQ,CAAC;QACLd,IAAI,EAAE,aADD;QAELC,KAAK,EAAEc,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX;MAFF,CAAD,CAAR;IAIH;EACJ,CAPQ,EAON,EAPM,CAAT;EASAzB,SAAS,CAAC,MAAM;IACZwB,YAAY,CAACE,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAetB,KAAf,CAAtC;EACH,CAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;EAIA,oBAAO,QAAC,oBAAD,CAAsB,QAAtB;IAA+B,KAAK,EAAEA,KAAtC;IAAA,uBACH,QAAC,uBAAD,CAAyB,QAAzB;MAAkC,KAAK,EAAEgB,QAAzC;MAAA,UACKD;IADL;MAAA;MAAA;MAAA;IAAA;EADG;IAAA;IAAA;IAAA;EAAA,QAAP;AAKH,CArBM;;IAAMD,gB;;KAAAA,gB"},"metadata":{},"sourceType":"module"}