{"ast":null,"code":"var _jsxFileName = \"/Users/jiangjiang/Desktop/t-project/dona-clone-React/src/components/todo/TodoCreate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useCategoryState } from '../../contexts/CategoryContext';\nimport { usePathState } from '../../contexts/PathContext';\nimport { useTodoDispatch } from '../../contexts/TodoConext';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TodoCreate = () => {\n  _s();\n\n  const [todoText, setTodoText] = useState('');\n  const {\n    path\n  } = usePathState();\n  const todoDispatch = useTodoDispatch();\n  const categoryState = useCategoryState();\n  const inputRef = useRef();\n  const filterCategory = categoryState.filter(item => item.slug === path);\n  useEffect(() => {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (!todoText) return;\n    todoDispatch({\n      type: 'CREATE',\n      todo: {\n        text: todoText,\n        id: uuidv4(),\n        done: false,\n        category: filterCategory\n      }\n    });\n    setTodoText('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"todo-create-input\",\n    className: \"flex flex-row w-full rounded-lg items-center  bg-gray-200 rounded-2xl\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"w-full\",\n      onSubmit: onSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"bg-gray-200 w-full block rounded-lg pl-3 pr-3 py-6 focus:outline-none\",\n        placeholder: \"Write a new task...\",\n        ref: inputRef,\n        type: \"text\",\n        onChange: e => setTodoText(e.target.value),\n        value: todoText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TodoCreate, \"fZq5eEUdI3aytCPEZyv/lBwgQAo=\", false, function () {\n  return [usePathState, useTodoDispatch, useCategoryState];\n});\n\n_c = TodoCreate;\nexport default _c2 = /*#__PURE__*/React.memo(TodoCreate);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TodoCreate\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCategoryState","usePathState","useTodoDispatch","v4","uuidv4","TodoCreate","todoText","setTodoText","path","todoDispatch","categoryState","inputRef","filterCategory","filter","item","slug","current","focus","onSubmit","e","preventDefault","type","todo","text","id","done","category","target","value","memo"],"sources":["/Users/jiangjiang/Desktop/t-project/dona-clone-React/src/components/todo/TodoCreate.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { useCategoryState } from '../../contexts/CategoryContext';\nimport { usePathState } from '../../contexts/PathContext';\nimport { useTodoDispatch } from '../../contexts/TodoConext'\nimport { v4 as uuidv4 } from 'uuid';\n\nconst TodoCreate = () => {\n  const [todoText, setTodoText] = useState('');\n  const { path } = usePathState();\n  const todoDispatch = useTodoDispatch();\n  const categoryState = useCategoryState();\n  const inputRef = useRef();\n\n  const filterCategory = categoryState.filter(item => item.slug === path);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, [])\n  \n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (!todoText) return;\n\n    todoDispatch({\n      type: 'CREATE',\n      todo: {\n        text: todoText,\n        id: uuidv4(),\n        done: false,\n        category: filterCategory\n      }\n    });\n    setTodoText('');\n  }\n\n  return (\n    <div\n      id=\"todo-create-input\"\n      className='flex flex-row w-full rounded-lg items-center \n      bg-gray-200 rounded-2xl'>\n      <form\n        className='w-full'\n        onSubmit={onSubmit}>\n        <input\n          className='bg-gray-200 w-full block rounded-lg pl-3 pr-3 py-6 focus:outline-none'\n          placeholder='Write a new task...'\n          ref={inputRef}\n          type=\"text\"\n          onChange={(e) => setTodoText(e.target.value)}\n          value={todoText}\n        />\n      </form>\n    </div>\n  )\n}\n\nexport default React.memo(TodoCreate)"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,gBAAT,QAAiC,gCAAjC;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,eAAT,QAAgC,2BAAhC;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;;AAEA,MAAMC,UAAU,GAAG,MAAM;EAAA;;EACvB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM;IAAES;EAAF,IAAWP,YAAY,EAA7B;EACA,MAAMQ,YAAY,GAAGP,eAAe,EAApC;EACA,MAAMQ,aAAa,GAAGV,gBAAgB,EAAtC;EACA,MAAMW,QAAQ,GAAGb,MAAM,EAAvB;EAEA,MAAMc,cAAc,GAAGF,aAAa,CAACG,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,IAAL,KAAcP,IAA3C,CAAvB;EAEAX,SAAS,CAAC,MAAM;IAAA;;IACd,qBAAAc,QAAQ,CAACK,OAAT,wEAAkBC,KAAlB;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMC,QAAQ,GAAIC,CAAD,IAAO;IACtBA,CAAC,CAACC,cAAF;IACA,IAAI,CAACd,QAAL,EAAe;IAEfG,YAAY,CAAC;MACXY,IAAI,EAAE,QADK;MAEXC,IAAI,EAAE;QACJC,IAAI,EAAEjB,QADF;QAEJkB,EAAE,EAAEpB,MAAM,EAFN;QAGJqB,IAAI,EAAE,KAHF;QAIJC,QAAQ,EAAEd;MAJN;IAFK,CAAD,CAAZ;IASAL,WAAW,CAAC,EAAD,CAAX;EACD,CAdD;;EAgBA,oBACE;IACE,EAAE,EAAC,mBADL;IAEE,SAAS,EAAC,uEAFZ;IAAA,uBAIE;MACE,SAAS,EAAC,QADZ;MAEE,QAAQ,EAAEW,QAFZ;MAAA,uBAGE;QACE,SAAS,EAAC,uEADZ;QAEE,WAAW,EAAC,qBAFd;QAGE,GAAG,EAAEP,QAHP;QAIE,IAAI,EAAC,MAJP;QAKE,QAAQ,EAAGQ,CAAD,IAAOZ,WAAW,CAACY,CAAC,CAACQ,MAAF,CAASC,KAAV,CAL9B;QAME,KAAK,EAAEtB;MANT;QAAA;QAAA;QAAA;MAAA;IAHF;MAAA;MAAA;MAAA;IAAA;EAJF;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CAhDD;;GAAMD,U;UAEaJ,Y,EACIC,e,EACCF,gB;;;KAJlBK,U;AAkDN,kCAAeT,KAAK,CAACiC,IAAN,CAAWxB,UAAX,CAAf"},"metadata":{},"sourceType":"module"}